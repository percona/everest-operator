---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  name: dataimporters.everest.percona.com
spec:
  group: everest.percona.com
  names:
    kind: DataImporter
    listKind: DataImporterList
    plural: dataimporters
    singular: dataimporter
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.displayName
      name: DisplayName
      type: string
    - jsonPath: .spec.description
      name: Description
      type: string
    - jsonPath: .spec.supportedEngines
      name: SupportedEngines
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: DataImporter defines a reusable strategy for importing data into
          a DatabaseCluster.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: DataImporterSpec defines the specification of a DataImporter.
            properties:
              config:
                description: Config contains additional configuration defined for
                  the data importer.
                properties:
                  openAPIV3Schema:
                    description: OpenAPIV3Schema is the OpenAPI v3 schema of the data
                      importer.
                    x-kubernetes-preserve-unknown-fields: true
                type: object
              databaseClusterConstraints:
                description: DatabaseClusterConstraints contains constraints for the
                  DatabaseCluster that the data importer can be used with.
                properties:
                  requiredFields:
                    description: |-
                      RequiredFields contains a list of fields that must be set in the DatabaseCluster spec.
                      Each key is a JSON path expressions that points to a field in the DatabaseCluster spec.
                      For example, ".spec.engine.type" or ".spec.dataSource.dataImport.config.someField".
                    items:
                      type: string
                    type: array
                type: object
              description:
                description: Description is the description of the data importer.
                type: string
              displayName:
                description: DisplayName is a human-readable name for the data importer.
                type: string
              jobSpec:
                description: JobSpec is the specification of the data importer job.
                properties:
                  command:
                    description: Command is the command to run the data importer.
                    items:
                      type: string
                    type: array
                  image:
                    description: Image is the image of the data importer.
                    type: string
                  serviceAccountName:
                    description: |-
                      ServiceAccountName is the name of the service account to use for the data importer job.
                      This is useful if your Job needs to access the Kubernetes API or other resources.
                    type: string
                type: object
              supportedEngines:
                description: SupportedEngines is the list of engines that the data
                  importer supports.
                items:
                  description: |-
                    EngineType stands for the supported database engines. Right now it's only pxc
                    and psmdb. However, it can be ps, pg and any other source.
                  type: string
                type: array
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
